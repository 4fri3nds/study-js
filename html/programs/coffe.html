<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ"
    crossorigin="anonymous">
  <link rel="stylesheet" href="./../../css/style.css">
  <link rel="stylesheet" href="./../../css/programs/coffe.css">
</head>

<body>
  <div class="nav">
    <div id="bread-crumps"></div>
    <div class="search">
      <span>&#64;</span>
      <input type="text">
      <button>search</button>
    </div>
  </div>
  <div class="header">
    <div id="menu"></div>
  </div>
  <!-- here -->
  <div class="coffe-wrap cfx">
    <div class="coffe">
      <div class="coffe-mech">
        <div class="socket">
          <button class="socket-power">
            <div class="socket-indikator"></div>
            <div class="socket-in">
              <span></span>
              <span></span>
            </div>
          </button>
          <div class="socket-cable"></div>
        </div>
        <div class="coffe-machine">
          <div class="shlang"></div>
          <div class="water">
            <div class="water-top">
              <div class="water-mount">
                <img src="../../assets/water.jpeg" alt="">
              </div>
              <ul class="machine-fill">
                <li class="machine-fill-item power-indicator">
                  <img src="../../assets/lamp.png" alt="">
                  <span>Power</span>
                </li>
                <li class="machine-fill-item water-indicator">
                  <img src="../../assets/lamp.png" alt="">
                  <span>Water</span>
                </li>
                <li class="machine-fill-item coffe-indicator">
                  <img src="../../assets/lamp.png" alt="">
                  <span>Coffe</span>
                </li>
              </ul>
              <div class="machine-water-count">----</div>
            </div>
            <div class="water-bottom">
              <div class="power-button off"></div>
              <div class="power-display disc"></div>
            </div>
          </div>
          <div class="beans">
            <div class="mounty-beans-wrap">
              <div class="machine-coffe-count">----</div>
              <div class="mount-beans">
                <img src="../../assets/coffe.jpeg" alt="">
              </div>
            </div>
            <div class="mount-coffe">
              <div class="mount-coffe-img">
                <div class="mount-coffe-img-wrap">
                  <img src="../../assets/5.jpg" alt="">
                  <img src="../../assets/5.jpg" alt="">
                </div>
              </div>
              <div class="pot-handler"></div>
              <div class="pot-cap"></div>
              <div class="pot-neck">&lt;</div>
              <div class="pot-coffe-mount"></div>
              <div class="pot-stand"></div>
              <ul class="pot-amount">
                <li>&nbsp; 300 mg</li>
                <li>&nbsp; 200 mg</li>
                <li>&nbsp; 100 mg</li>
              </ul>
            </div>
            <div class="warming">
              <div class="coffe-cap-size-switcher sm"></div>
              <form action="coffe-cap-size" class="coffe-cap-size-list">
                <div class="cap-size-item">
                  <input class="cap-size" name="cap-size" data-cup="expresso" type="radio" disabled="true" checked>
                  <label for="sm">esspresso</label>
                </div>
                <div class="cap-size-item">
                  <input class="cap-size" name="cap-size" data-cup="americano" type="radio" disabled="true">
                  <label for="md">americano</label>
                </div>
                <div class="cap-size-item">
                  <input class="cap-size" name="cap-size" data-cup="latte" type="radio" disabled="true">
                  <label for="lg">latte</label>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="coffe-cup-wrap">
          <img src="../../assets/par.png" alt="">
          <div class="coffe-cup">good day</div>
        </div>
      </div>
      <div class="coffe-table">
        <div class="coffe-table-top"></div>
        <div class="coffe-table-foot-left"></div>
        <div class="coffe-table-foot-right"></div>
      </div>
    </div>
    <div class="coffe-code">
      <pre>
            <code>
              // class Machine 
              let Machine = function () { 
                this.power = false; 
                this.powerOn = () => this.power = true; 
                this.powerOff = () => this.power = false; 
                this.water = false; 
                this.waterOn = () => this.water = true; 
                this.waterOff = () => this.water = false; 
                this.coffe = false; 
                this.coffeOn = () => this.coffe = true; 
                this.coffeOff = () => this.coffe = false; 
                this.ready = false; 
                this.readyOn = () => this.ready = true; 
                this.readyOff = () => this.ready = false; 
              }; 
              
              let machine = new Machine; 
              
              //Coffe 
              let Coffe = function () { 
                this.mountWater = 4200; 
                this.mountCoffe = 1000; 
                this.timeWorming = 0; 
                this.waterMount = document.querySelector('.water-mount'); 
                this.powerDisplay = document.querySelector('.power-display'); 
                this.coffeMount = document.querySelector('.mount-beans'); 
                this.getCoffeCup = document.querySelector('.power-button'); 
                this.machinePower = document.querySelector('.socket');
                this.powerIndicator = document.querySelector('.power-indicator'); 
                this.waterIndicator = document.querySelector('.water-indicator');
                this.coffeIndicator = document.querySelector('.coffe-indicator'); 
                this.setCoffeCup = document.getElementsByClassName('coffe-cap-size-switcher')[0];
              
                this.elemMountCoffe = document.querySelector('.mount-coffe'); 
                this.coffeSmoke = document.querySelector('.coffe-cup-wrap img');
              
                this.machinePower.addEventListener('click', this.getPower); 
                this.setCoffeCup.addEventListener('click', this.setCoffeCupClosure);
              
                this.waterMount.addEventListener('click', this.fillWater); 
                this.coffeMount.addEventListener('click', this.fillCoffe); 
                this.getCoffeCup.addEventListener('click', this.getCoffe); 
                this.elemMountCoffe.addEventListener('click', this.takeCoffe); 
              }; 
              
              Coffe.prototype.fillWater = function () { 
                this.classList.toggle('active'); 
                coffe.waterIndicator.classList.toggle('active'); 
                if (!machine.water) { 
                  machine.waterOn()
                } else { 
                  machine.waterOff() 
                } 
              }; 
              
              Coffe.prototype.fillCoffe = function () { 
                this.classList.toggle('active'); 
                coffe.coffeIndicator.classList.toggle('active');

              if (!machine.coffe) { 
                machine.coffeOn() 
              } else { 
                machine.coffeOff() 
              } 
            }; 
            
            Coffe.prototype.getPower = function () { 
              coffe.powerIndicator.classList.toggle('active');

              if (!machine.power) { 
                machine.powerOn() 
              } else { 
                machine.powerOff() 
              } 
              coffe.powerDisplay.classList.toggle('conc'); 
              coffe.powerDisplay.classList.toggle('disc');

              this.classList.toggle('active'); 
            }; 
            // select coffe closure 
            Coffe.prototype.selectCoffe = function() { 
              let deg = -25, step = -1; 
              return function () { 
                let elem = document.getElementsByClassName('cap-size-item'); 
                let last = elem.length - 1; 
                deg += 25; 
                step++; 
                if (step == last) { 
                  step = -1; 
                  deg = -25; 
                  elem[last].getElementsByTagName('input')[0].removeAttribute('checked',
              'checked'); 
              elem[0].getElementsByTagName('input')[0].setAttribute('checked', 'checked'); 
              } else { 
                elem[step].getElementsByTagName('input')[0].removeAttribute('checked',
                'checked'); 
                elem[step].nextElementSibling.getElementsByTagName('input')[0].setAttribute('checked', 'checked'); 
              } 
              
              this.style.transform = 'rotate(' + deg + 'deg)'; 
              }; 
            }; 
              // param coffe cup 
            Coffe.prototype.setCup = function(cap) { 
              switch (cap) { 
                case ('small'):
                  this.outWater = 100; 
                  this.outCoffe = 30; 
                  break; 
                case ('medium'): 
                  this.outWater = 180; 
                  this.outCoffe = 40; 
                  break; 
                case ('large'):
                  this.outWater = 250; 
                  this.outCoffe = 50; 
                  break; 
                default: 
                  this.outWater = 0; 
                } 
              }; 
              // method remain coffe 
              
              Coffe.prototype.remain = function () { 
                this.mountCoffe -= this.outCoffe; 
                this.mountWater -= this.outWater; 
                console.log('Остаток кофе : ' + Math.round(this.mountCoffe / this.outCoffe) + ' чашек.'); 
                console.log('Остаток воды : ' + Math.round(this.mountWater / this.outWater) + ' чашек.');
              }; 
              
              // display coffe machine 
              Coffe.prototype.textDisplay = function (cl) { 
                let className = coffe.powerDisplay.classList[0];
                let oldClassName = coffe.powerDisplay.classList[1]; 
                coffe.powerDisplay.classList = className + ' ' + cl; 
                setTimeout(function(){ 
                  coffe.powerDisplay.classList = className + ' ' + oldClassName; 
                }, 1800); 
              }; 
              
              // check cup size 
              Coffe.prototype.checkCupSize = function() { 
                let capListItem = document.getElementsByClassName('cap-size-item'); 
                for (let i = 0; i < capListItem.length; i++) { 
                  let input = capListItem[i].getElementsByTagName('input')[0]; 
                  if ( input.hasAttribute( 'checked', 'checked') ) return input.getAttribute( 'data-cup'); 
                }; 
              }; 
              
              // prepare coffe 
              Coffe.prototype.getCoffe=function (output) { 
                if (!machine.power) return coffe.textDisplay('npow'); 
                if (!machine.water) return coffe.textDisplay('fw'); 
                if (!machine.coffe) return coffe.textDisplay('fc'); 
                if (machine.ready) return coffe.textDisplay('ready'); 
                
                coffe.textDisplay('wait'); 
                coffe.elemMountCoffe.classList=coffe.elemMountCoffe.classList[0] + ' ' + coffe.checkCupSize(); 
                machine.readyOn(); 
                // coffe.setCup(output) 
                // coffe.remain(); 
              }; 
              
              Coffe.prototype.takeCoffe=function () { 
                if (!machine.ready) return coffe.textDisplay('fc'); 
                machine.readyOff(); 
                this.style.animation='take-coffe 5s'; 
                setTimeout( ()=> coffe.elemMountCoffe.classList = coffe.elemMountCoffe.classList[0], 2500 ); 
                
                setTimeout( () => this.style.animation='', 5000); 
                setTimeout( () => coffe.coffeSmoke.style.display = 'block', 4000 ); 
                setTimeout( () => coffe.coffeSmoke.style.display = 'none', 10000 ); 
              }; 
              
              Coffe.prototype.setCoffeCupClosure = Coffe.prototype.selectCoffe(); 
              let coffe = new Coffe();

            </code>
          </pre>
    </div>
  </div>

  <!-- end -->
  <script src="../../js/main/hilight.js"></script>
  <script src="./../../js/main/dynamic.js"></script>
  <script src="./../../js/main/main.js"></script>
  <script src="./../../js/programs/coffe.js"></script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ"
    crossorigin="anonymous">
  <link rel="stylesheet" href="../../css/style.css">
</head>

<body>
  <div class="nav">
    <div id="bread-crumps"></div>
    <div class="search">
      <span>&#64;</span>
      <input type="text">
      <button>search</button>
    </div>
  </div>
  <div class="header">
    <div id="menu"></div>
  </div>
  <div class="content">

    <div class="info">
      <div class="info-left">
        <h4 class="links-themes-title">Json, Ajax</h4>
        <!-- TABS NAV-->
        <ul class="tabs-nav-list">
          <li class="tabs-nav-item active" onclick="openMark(event,'mark1')">Parse JSON</li>
          <li class="tabs-nav-item" onclick="openMark(event,'mark2')">AJAX</li>
          <li class="tabs-nav-item" onclick="openMark(event,'mark3')">json в Dom</li>
        </ul>
        <!-- END NAV -->
      </div>
      <div class="info-right">
        <div id="extra-menu" class="links-themes-list"></div>
        <ul class="tabs-content-list info-right-content">
          <li id="mark1" class="tabs-content-item active">
            <!-- 1 -->
            <div class="sub-title">Main</div>
            <div class="title">Title</div>
            <fieldset>
              <legend>1. title</legend>
            </fieldset>
            <!-- end 1 -->
          </li>
          <li id="mark2" class="tabs-content-item">
            <!-- 2 -->
            <div class="sub-title">Main</div>
            <div class="title">AJAX</div>
              <fieldset>
                <legend>1. AJAX для загрузки XML-файла</legend>
                <blockquote>
                  Вот более детальный пример, в котором используется AJAX для загрузки XML-файла и используется функция call() для вызова callback-функции
                  в контексте запрошенного объекта (это значит, что когда мы укажем ключевое слово this внутри callback-функции, оно будет
                  ссылаться на запрошенный объект)
                </blockquote>
                <pre class="code">
                  <code>
                    function some_function2(url, callback) { 
                      var httpRequest; // создаём наш XMLHttpRequest-объект 
                      if (window.XMLHttpRequest) { 
                        httpRequest = new XMLHttpRequest(); 
                      } else if (window.ActiveXObject) { 
                        // для дурацкого Internet Explorer'а 
                        httpRequest = new ActiveXObject("Microsoft.XMLHTTP"); 
                      } 
                      
                      httpRequest.onreadystatechange = function () { 
                        // встраиваем функцию проверки статуса нашего запроса 
                        // это вызывается при каждом изменении статуса 
                        if (httpRequest.readyState === 4 && httpRequest.status === 200) { 
                          callback.call(httpRequest.responseXML); // вызываем колбек 
                        } 
                      }; 
                      httpRequest.open('GET', url); 
                      httpRequest.send();
                    } // вызываем функцию 
                    
                    some_function2("text.xml", function () { 
                      console.log(this); 
                    }); 
                    console.log("это выполнится до вышеуказанного колбека");
                  </code>
                </pre>
              </fieldset>
              
            <!-- end 2 -->
          </li>
          <li id="mark3" class="tabs-content-item">
            <!-- 3 -->
            <div class="sub-title">Main</div>
            <div class="title">Работа с ДОМ</div>
            <fieldset>
              <legend>1. Как в дом ввести данные динамически</legend>
              <pre class="code">
                <code>
                  (function(selector) { 
                    var template = document.querySelector(selector); 
                    var arrayDataProvider = getJsonAsArray(); 
                    arrayDataProvider.forEach(function(element) { 
                      var templateClone = template.content.cloneNode(true);
                      
                      templateClone.querySelector('.name > span').textContent += ' ' + element.name; 
                  
                      templateClone.querySelector('.age > span').textContent += ' ' + element.age; 
                      templateClone.querySelector('.email > span').textContent += ' ' + element.email; 
                      templateClone.querySelector('.phone > span').textContent += ' ' + element.phone;

                      templateClone.querySelector('.address > span').textContent += ' ' + element.address; 
                      document.body.appendChild(templateClone);
                    }); 
                  })('#table-template'); 
                  
                  function getJsonAsArray() { 
                    return JSON.parse(`[ 
                    { 
                      "name": "Иван", 
                      "age": "32", 
                      "email": "ivan@ivanov.ru",
                      "phone": "+7(954)148-45-73", 
                      "address": "Торфяная ул. 7/4" 
                    }, 
                    { 
                      "name": "Екатерина", 
                      "age": "24", 
                      "email": "katja@yandex.ru",
                      "phone": "+7(956)172-12-23", 
                      "address": "Никитинская ул. 12б" 
                    }, 
                    { 
                      "name": "Федор", 
                      "age": "45", 
                      "email": "fedor@sidirov.ru",
                      "phone": "+7(911)760-45-35", 
                      "address": "Ленинский пр-т. 74/3" 
                    }, 
                    { 
                      "name": "Станислав", 
                      "age": "19", 
                      "email": "stas@fedorov.ru",
                      "phone": "+7(954)343-55-55", 
                      "address": "Московский пр-т. 14/4" 
                    }, 
                    { 
                      "name": "Евгений", 
                      "age": "28", 
                      "email": "evgeny@gmail.com",
                      "phone": "+7(918)577-98-89", 
                      "address": "Советская ул. 60" 
                    }, 
                    { 
                      "name": "Елена", 
                      "age": "22", 
                      "email": "elena@mail.ru", 
                      "phone": "+7(931)466-77-19", 
                      "address": "Есенина ул. 4" 
                    } 
                    ]`); 
                  }

                  <b>HTML</b>
                  template id="table-template">
                  hr>
                  div class="table-template table">
                  div class="name">
                  span>Имя: 
                  /span>
                  /div>
                  div class="age">
                  span>Возраст:
                  /span>
                  /div>
                  div class="email">
                  span>E-mail:
                  /span>
                  /div>
                  div class="phone">
                  span>Телефон:
                  /span>
                  /div>
                  div class="address">
                  span>Адрес:
                  /span>
                  /div>
                  /div>
                  hr>
                  /template>
                </code>
              </pre>
            </fieldset>
            <!-- end -->
          </li>
        </ul>
      </div>
    </div>
  </div>

  <script src="../../js/main/hilight.js"></script>
  <script src="../../js/main/dynamic.js"></script>
  <script src="../../js/main/main.js"></script>

</body>

</html>